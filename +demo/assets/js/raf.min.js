!function(e){function t(){for(var e={event:!1,callback:!1,data:!1,delegate:o},t=0;t<arguments.length;t++){var n=arguments[t],i=typeof n;"string"==i?e.event=n:n instanceof jQuery||"boolean"==i?e.delegate=n:"function"==i?e.callback=n:"object"==i&&(e.data=n)}return e}function n(){{var n=this;document.body,document.documentElement}this.events=[],this.request=void 0,this.scroll={top:window.pageYOffset,left:window.pageYOffset},this.win=e.extend(getDomPropCombo([window,document.documentElement],["inner","client"]),{width:0,height:0}),this.doc=e.extend(getDomPropCombo([document.body,document.documentElement],["inner","client"]),{width:0,height:0}),this.pointer={x:0,y:0},this.inits={afterdocumentresize:function(){n.on("documentresize",e(n))},pointermove:function(){o.on("mousemove touchmove",{self:n},trackPointer)}},this.kills={afterdocumentresize:function(){n.off("documentresize",e(n))},pointermove:function(){o.off("mousemove touchmove",trackPointer)}},this.detect={scroll:function(){var e={top:window.pageYOffset,left:window.pageXOffset};(e.top!=n.scroll.top||e.left!=n.scroll.left)&&(n.scroll=e,triggerHooks(n.events.scroll))},resize:function(){var e={width:n.win.element[n.win.prefix+"Width"],height:n.win.element[n.win.prefix+"Height"]};(e.width!=n.win.width||e.height!=n.win.height)&&(n.win.width=e.width,n.win.height=e.height,triggerHooks(n.events.resize))},documentresize:function(){var e={width:n.doc.element[n.doc.prefix+"Width"],height:n.doc.element[n.doc.prefix+"Height"]};if(e.width==n.doc.width&&e.height==n.doc.height){if(!n.doc.last)return;return n.doc.last=void 0,void triggerHooks(n.events.afterdocumentresize)}n.doc.last=!0,n.doc.width=e.width,n.doc.height=e.height,triggerHooks(n.events.documentresize)},pointermove:function(){n.newPointer&&(n.pointer.x!=n.newPointer.x||n.pointer.y!=n.newPointer.y)&&(n.pointer=n.newPointer,n.newPointer=void 0,triggerHooks(n.events.pointermove,{pointer:n.pointer}))},nextframe:function(){triggerHooks(n.events.nextframe),unset("nextframe",n.events),n.eventsCount=count(n.events)}},this.on=function(){var e=t.apply(this,arguments);return e.event?(n.events[e.event]||(n.events[e.event]=[],n.eventsCount=count(n.events),n.inits[e.event]&&n.inits[e.event]()),n.events[e.event].push(e),n.start(),n):n},this.off=function(){var e=t.apply(this,arguments);if(!n.events[e.event])return n;var o=n.events[e.event];if(e.delegate===!0)unset(e.event,n.events);else{var i=findHook(e,o);i>-1&&unset(i,o),0==o.length&&(unset(e.event,n.events),n.kills[e.event]&&n.kills[e.event]())}return n.eventsCount=count(n.events),n.eventsCount?n:n.stop()},this.loop=function(){if(!n.eventsCount)return n.stop();for(var e in n.events)n.detect[e]&&n.detect[e]();n.request=window.requestAnimationFrame(n.loop)},this.start=function(){return n.request||n.loop(),n},this.stop=function(){return n.request&&(window.cancelAnimationFrame(n.request),n.request=void 0),n}}for(var o=e(window),i=0,r=["ms","moz","webkit","o"],s=0;s<r.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[r[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[s]+"CancelAnimationFrame"]||window[r[s]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),o=window.setTimeout(function(){e(t+n)},n);return i=t+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),count=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},unset=function(e,t){if("string"==typeof e){var n=t[e];return delete t[e],n}return t.splice(e,1)},getDomPropCombo=function(e,t){for(var n=0,o={element:void 0,prefix:void 0},i=0;i<e.length;i++)for(var r=0;r<t.length;r++)t[r]+"Height"in e[i]&&e[i][t[r]+"Height"]>n&&(n=e[i][t[r]+"Height"],o={element:e[i],prefix:t[r]});return o},findHook=function(e,t){for(var n=-1,o=0;o<t.length;o++)t[o].delegate==e.delegate&&t[o].callback==e.callback&&(n=o);return n},triggerHooks=function(t,n){if(!t)return!1;n&&"object"!=typeof n&&(n=!1);for(var o=0;o<t.length;o++){var i=t[o];i.callback&&(n&&(i=e.extend(n,i)),i.callback(i))}},trackPointer=function(e){e.data.self.newPointer={x:e.pageX,y:e.pageY}},e(document).ready(function(){window.raf=new n})}(jQuery);